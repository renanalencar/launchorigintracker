# ğŸš€ Launch Origin Tracker â€“ Android Kotlin + Jetpack Compose

Este projeto demonstra como identificar de maneira inteligente **como o usuÃ¡rio abriu seu app Android**, utilizando `Jetpack Compose`, `ViewModel`, e `DataStore Preferences`.

## ğŸ” Funcionalidades

- Detecta **como o app foi iniciado**:
  - âœ… Pelo Ã­cone do app (launcher)
  - âœ… Por outro aplicativo (via `Intent`)
  - âœ… Via botÃ£o de apps recentes (â¬œ)
  - âœ… Via botÃ£o de voltar (â†©ï¸)
- Exibe informaÃ§Ãµes como `originName`, `userId`, `token` se fornecidos via `Intent`
- Persiste a origem e os extras usando `Jetpack DataStore`
- **Oculta** `originName` se o app for reaberto por mÃ©todos nÃ£o relacionados a `EXTERNAL_APP`

---

## ğŸ› ï¸ Tecnologias Utilizadas

- Kotlin
- Jetpack Compose
- ViewModel (Stateful)
- DataStore Preferences
- Android Lifecycle (ProcessLifecycleOwner)
- Intent Extras e anÃ¡lise de fluxo de abertura

---

## ğŸ§± Estrutura do Projeto

```text
â”œâ”€â”€ MainActivity.kt
â”œâ”€â”€ MyApp.kt
â”œâ”€â”€ LaunchOrigin.kt               // Enum com os tipos de origem
â”œâ”€â”€ LaunchMetadata.kt             // Data class com extras e origem
â”œâ”€â”€ LaunchOriginViewModel.kt     // ViewModel que gerencia o estado
â”œâ”€â”€ LaunchOriginDataStore.kt     // PersistÃªncia com DataStore

## ğŸ“¦ Como Testar
### Via ADB:
```bash
adb shell am start -n com.seupacote/.MainActivity \
-a android.intent.action.VIEW \
--es originName "AppExterno" \
--es userId "42" \
--es token "secrettoken"
```

### Via outro app:
```kotlin
val intent = Intent(Intent.ACTION_VIEW).apply {
    setPackage("com.seupacote")
    putExtra("originName", "OutroApp")
    putExtra("userId", "123")
    putExtra("token", "abc123")
}
startActivity(intent)
```

## ğŸ–¼ï¸ Interface
A tela principal exibe:
- Origem atual de abertura do app
- InformaÃ§Ãµes recebidas por Intent, apenas se aplicÃ¡vel

## ğŸ“ Persiste os seguintes dados com DataStore
- `origin`: tipo de origem (`LAUNCHER`, `EXTERNAL_APP`, etc.)
- `originName`: nome do app chamador (se `EXTERNAL_APP`)

## â— ObservaÃ§Ãµes
- O campo originName Ã© limpado automaticamente se o app for aberto novamente via Launcher, Recents ou botÃ£o de voltar.
- A lÃ³gica estÃ¡ encapsulada e centralizada no LaunchOriginViewModel.

## ğŸ“Œ Requisitos
- Android Studio Giraffe ou superior
- Kotlin 1.8+
- Compose BOM 2023.10+
- Target SDK 33 ou superior

## ğŸ“„ LicenÃ§a
Este projeto Ã© livre para uso educacional e demonstraÃ§Ã£o de arquitetura limpa em apps Android com Jetpack Compose.
